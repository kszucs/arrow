name: C++

# TODO: add file patterns with recursive glob **
on:
  - push
  - pull_request

jobs:
  build:
    name: Linux
    runs-on: ubuntu-latest

    strategy:
      matrix:
        service: [conda-cpp]
        conda: [latest]

    env:
      CONDA: ${{ matrix.conda }}

    steps:
    - name: Checkout Arrow
      uses: actions/checkout@v1
      with:
        submodules: true
    - name: Docker Build
      run: docker-compose build ${{ matrix.service }}
    - name: Docker Run
      run: docker-compose run ${{ matrix.service }}
